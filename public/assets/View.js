import{s as g}from"./Sidebar.js";import{_ as p,a as l,j as b,o as i,c as r,b as s,k as I,F as m,t as n,d as c,p as f,e as v,i as h}from"./index.js";const y={data(){return{musicItem:null}},components:{sidebar:g},methods:{approveMusic(){let t=new FormData;t.set("auth_user_id",localStorage.getItem("userId")),t.set("auth_user_token",localStorage.getItem("token")),t.set("musicId",this.$route.params.id),l.post("/admin/music/approve_music",t).then(e=>{console.log(e.data),e.data!=null?this.musicItem=e.data:e.data.error!=null?(this.message=e.data.error,this.messageType="danger"):(this.message="Unknown error happened",this.messageType="danger")}).catch(e=>{this.message="an error occurred",this.messageType="danger"})},rejectMusic(){let t=new FormData;t.set("auth_user_id",localStorage.getItem("userId")),t.set("auth_user_token",localStorage.getItem("token")),t.set("musicId",this.$route.params.id),l.post("/admin/music/reject_music",t).then(e=>{console.log(e.data),e.data!=null?this.musicItem=e.data:e.data.error!=null?(this.message=e.data.error,this.messageType="danger"):(this.message="Unknown error happened",this.messageType="danger")}).catch(e=>{this.message="an error occurred",this.messageType="danger"})},loadData(){let t=new FormData;t.set("auth_user_id",localStorage.getItem("userId")),t.set("auth_user_token",localStorage.getItem("token")),t.set("musicId",this.$route.params.id),l.post("/admin/music/view",t).then(e=>{console.log(e.data),e.data!=null?this.musicItem=e.data:e.data.error!=null?(this.message=e.data.error,this.messageType="danger"):(this.message="Unknown error happened",this.messageType="danger")}).catch(e=>{this.message="an error occurred",this.messageType="danger"})}},mounted(){this.loadData()}},o=t=>(f("data-v-3ae23be0"),t=t(),v(),t),k={class:"container cont"},w={class:"row"},S={class:"col-md-3"},T={class:"col-md-9"},D={class:"badge bg-danger"},j={class:"badge bg-warning"},x={class:"badge bg-success"},M=o(()=>s("hr",null,null,-1)),F=o(()=>s("p",{class:"fw-bolder"},"Lyrics:",-1)),V=o(()=>s("hr",null,null,-1)),N=o(()=>s("p",{class:"fw-bolder"},"Music File:",-1)),A={controls:"",style:{width:"100%"}},C=["src"],B=h(" Your browser does not support the audio element. "),U=o(()=>s("hr",null,null,-1)),L=o(()=>s("p",{class:"fw-bolder"},"Actions:",-1)),R=o(()=>s("p",null,"After reviewing this music file, you can decide to approve or reject this music file",-1)),z=h(" - "),E={key:1,class:"btn btn-danger disabled"},P={key:2,class:"btn btn-success disabled"},Y={key:3,class:"btn btn-published disabled"};function q(t,e,G,H,a,d){const _=b("sidebar");return i(),r("div",k,[s("div",w,[s("div",S,[I(_)]),s("div",T,[this.musicItem!=null?(i(),r(m,{key:0},[s("h1",null,n(a.musicItem.title),1),s("span",D,n(a.musicItem.userName),1),s("span",j,n(a.musicItem.genre),1),s("span",x,n(a.musicItem.date),1),M,F,s("p",null,n(a.musicItem.lyrics),1),V,s("div",null,[N,s("audio",A,[s("source",{src:a.musicItem.musicLink,type:"audio/mpeg"},null,8,C),B])]),U,s("div",null,[L,R,s("div",null,[a.musicItem.status==1?(i(),r(m,{key:0},[s("button",{onClick:e[0]||(e[0]=(...u)=>d.approveMusic&&d.approveMusic(...u)),class:"btn btn-success"},"Approve"),z,s("button",{onClick:e[1]||(e[1]=(...u)=>d.rejectMusic&&d.rejectMusic(...u)),class:"btn btn-danger"},"Reject")],64)):c("",!0),a.musicItem.status==2?(i(),r("button",E,"Rejected")):c("",!0),a.musicItem.status==3?(i(),r("button",P,"Approved")):c("",!0),a.musicItem.status==4?(i(),r("button",Y,"Published")):c("",!0)])])],64)):c("",!0)])])])}var O=p(y,[["render",q],["__scopeId","data-v-3ae23be0"]]);export{O as default};
