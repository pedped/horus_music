import{s as _}from"./Sidebar.js";import{_ as h,r as p,a as b,j as m,o,c as a,b as s,k as g,t as c,F as v,h as f,d as n,p as x,e as y,i as k}from"./index.js";const w={data(){return{numberOfUsers:0,numberOfMusics:0,musicList:[]}},components:{sidebar:_},methods:{viewMusic(e){p.push("/admin/music/view/"+e.id)},loadData(){let e=new FormData;e.set("auth_user_id",localStorage.getItem("userId")),e.set("auth_user_token",localStorage.getItem("token")),b.post("/admin/index/index",e).then(t=>{console.log(t.data),t.data.userCount!=null?(this.numberOfUsers=t.data.userCount,this.numberOfMusics=t.data.musicCount,this.musicList=t.data.musicList):t.data.error!=null?(this.message=t.data.error,this.messageType="danger"):(this.message="Unknown error happened",this.messageType="danger")}).catch(t=>{this.message="an error occurred",this.messageType="danger"})}},mounted(){this.loadData()}},i=e=>(x("data-v-75c6eb05"),e=e(),y(),e),L={class:"container cont"},M={class:"row"},U={class:"col-md-3"},C={class:"col-md-9"},S={class:"row"},O={class:"col-md-6 info-holder"},D={class:"box"},N=i(()=>s("h3",null,"Users",-1)),T=i(()=>s("hr",null,null,-1)),V={class:"col-md-6 info-holder"},F={class:"box"},B=i(()=>s("h3",null,"Musics",-1)),j=i(()=>s("hr",null,null,-1)),A={class:"row"},I={class:"col-md-12"},z=i(()=>s("h3",{style:{"margin-top":"36px","margin-bottom":"24px"}},"Latest Uploaded Musics",-1)),E={key:0,class:"table table-dark table-striped"},G=i(()=>s("tr",null,[s("th",null," Music Title "),s("th",null," Genre "),s("th",null," File "),s("th",null," Status "),s("th",null," Action ")],-1)),P={controls:"",style:{width:"100%"}},R=["src"],Y=k(" Your browser does not support the audio element. "),q={key:0,class:"badge bg-primary"},H={key:1,class:"badge bg-danger"},J={key:2,class:"badge bg-success"},K={key:3,class:"badge bg-danger"},Q=["onClick"],W={key:1};function X(e,t,Z,$,r,l){const u=m("sidebar");return o(),a("div",L,[s("div",M,[s("div",U,[g(u)]),s("div",C,[s("div",S,[s("div",O,[s("div",D,[N,T,s("p",null,c(r.numberOfUsers)+" Users",1)])]),s("div",V,[s("div",F,[B,j,s("p",null,c(r.numberOfMusics)+" Musics",1)])])]),s("div",A,[s("div",I,[z,r.musicList.length>0?(o(),a("table",E,[G,(o(!0),a(v,null,f(this.musicList,d=>(o(),a("tr",null,[s("td",null,c(d.title),1),s("td",null,c(d.genre),1),s("td",null,[s("audio",P,[s("source",{src:d.musicLink,type:"audio/mpeg"},null,8,R),Y])]),s("td",null,[d.status==1?(o(),a("span",q," Uploaded ")):n("",!0),d.status==2?(o(),a("span",H," Rejected ")):n("",!0),d.status==3?(o(),a("span",J," Approved ")):n("",!0),d.status==4?(o(),a("span",K," Published ")):n("",!0)]),s("td",null,[s("button",{onClick:ss=>l.viewMusic(d),class:"btn btn-primary"},"View",8,Q)])]))),256))])):n("",!0),r.musicList.length==0?(o(),a("p",W,"No music uploaded at this time")):n("",!0)])])])])])}var os=h(w,[["render",X],["__scopeId","data-v-75c6eb05"]]);export{os as default};
